// Generated by CoffeeScript 1.9.2
(function() {
  var coffeelint, through;

  through = require('through2');

  coffeelint = require('coffeelint');

  coffeelint.reporter = require('coffeelint-stylish').reporter;

  coffeelint.configfinder = require('coffeelint/lib/configfinder');

  module.exports = function(file, options) {
    var errorReport, fileOpts;
    if (options == null) {
      options = {};
    }
    errorReport = coffeelint.getErrorReport();
    fileOpts = coffeelint.configfinder.getConfig();
    return through(function(buf, enc, next) {
      var errors;
      if (file.substr(-7) === '.coffee') {
        errors = errorReport.lint(file, buf.toString(), fileOpts);
        if (errors.length !== 0) {
          coffeelint.reporter(file, errors);
        }
      }
      this.push(buf);
      return next();
    });
  };

}).call(this);
